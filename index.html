<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>参考文献作成/web/Ver0.2</title>
<meta name="description" content="教育目的で利用できる参考文献作成支援ツール。URL・書籍の参考文献を簡単に生成し、並び替えやコピーが可能。個人情報は保存されません。">
<link rel="icon" href="Icooon.png" type="image/png">
<meta name="keywords" content="参考文献, 教育, 学習, 参考文献作成, DP, MYP, IB">
<meta name="robots" content="index, follow">
<meta name="author" content="A">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "参考文献作成/web",
  "applicationCategory": "EducationalApplication",
  "operatingSystem": "All",
  "description": "学習・レポート作成のための参考文献作成支援Webツール",
  "inLanguage": "ja",
  "author": {
    "@type": "Person",
    "name": "A"
  },
  "datePublished": "2026-01-18"
}
</script>


<style>

/* ===== フロート表示最適化 ===== */
@media (max-width: 520px), (max-height: 600px) {
  body { font-size: 13px; }
  h1 { font-size: 16px; padding: 10px; }

  nav { display: flex; flex-wrap: wrap; }
  nav button {
    flex: 1 1 50%;
    padding: 8px;
    font-size: 12px;
  }

  section {
    margin: 8px;
    padding: 14px;
    border-radius: 12px;
    max-width: none;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
  }

  label { font-size: 12px; }
  input, textarea { font-size: 12px; padding: 8px; }

  .action, .gray {
    width: 100%;
    margin-bottom: 6px;
  }
}

body {
  margin: 0;
  font-family: "Noto Sans JP", sans-serif;
  background: linear-gradient(135deg, #e8eef5, #f6f9fc);
}

h1 {
  background: #2f6fed;
  color: white;
  padding: 16px;
  margin: 0;
  text-align: center;
}

nav button {
  background: #f0f3f8;
  border: none;
  padding: 12px 18px;
  cursor: pointer;
}

section {
  display: none;
  background: white;
  margin: 20px auto;
  padding: 24px;
  max-width: 900px;
  border-radius: 16px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.12);
}

section.active { display: block; }

label { display: block; margin-top: 14px; font-weight: bold; }

input, textarea {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 10px;
  border: 1px solid #ccc;
}

button.action {
  background: #2f6fed;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 10px;
  margin-top: 10px;
  cursor: pointer;
}

button.gray {
  background: #9aa3ad;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 10px;
  margin-top: 10px;
}

/* ===== 結果カード ===== */
.result-item {
  background: #f6f9fc;
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 10px;
}

.result-text {
  font-size: 13px;
  white-space: pre-wrap;
  word-break: break-all;
}

.result-actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.copy-btn {
  background: #2f6fed;
  color: white;
  border: none;
  padding: 6px;
  border-radius: 8px;
  flex: 1;
}

.delete-btn {
  background: #e05a5a;
  color: white;
  border: none;
  padding: 6px;
  border-radius: 8px;
  flex: 1;
}
</style>
</head>

<body>

<h1>参考文献作成</h1>

<nav>
  <button onclick="show('menu')">トップ</button>
  <button onclick="show('url')">URL</button>
  <button onclick="show('book')">書籍</button>
  <button onclick="show('result')">結果</button>
</nav>

<section id="menu" class="active">
<p>参考文献を簡単に作成・整理するためのツールです。</p>
<h3>更新履歴（バージョン）</h3>
1月18日：作成 バージョン0.1<br>
更新（最終）：2026年1月20日 バージョン0.2<br>
<h3>サイトについて</h3>
作成日: 2026年1月18日<br>
参考文献を簡単に作成・管理するためのツールです。<br> 
作成者：A<br>
AIによる自動生成コードを利用しています。<br> 
利用規約は、HTMLと同じフォルダにある<p>
  <a href="利用規約.html" target="_blank">利用規約</a>
</p>
をご覧ください。<br>
<h3>使い方</h3> 
<div style="text-align:center;">
  <img src="参考文献作成説明.png" alt="説明文" width="600">
</div>
<div style="text-align:center;">
  <img src="参考文献作成説明 (1).png" alt="説明文" width="600">
</div>
<div style="text-align:center;">
  <img src="参考文献作成説明 (2).png" alt="説明文" width="600">
</div>
<footer>
  <p>© 2026 A</p>
  <p>参考文献作成</p>
</footer>

</section>

<section id="url">
<h2>参考文献作成（URL）</h2>

<label>作者名</label>
<input id="uAuthor" onkeydown="next(event,'uYear')">

<label>公開年</label>
<input id="uYear" onkeydown="yearEnter(event,'uTitle')">

<label>タイトル</label>
<input id="uTitle" onkeydown="next(event,'uUrl')">

<label>URL</label>
<input id="uUrl" onkeydown="enterUrl(event)">

<button class="action" onclick="addUrl()">追加</button>
<button class="gray" onclick="show('menu')">戻る</button>
</section>

<section id="book">
<h2>参考文献作成（書籍）</h2>

<label>著者名</label>
<input id="bAuthor" onkeydown="next(event,'bYear')">

<label>発行年</label>
<input id="bYear" onkeydown="yearEnter(event,'bTitle')">

<label>タイトル</label>
<input id="bTitle" onkeydown="next(event,'bPublisher')">

<label>出版社</label>
<input id="bPublisher" onkeydown="enterBook(event)">

<button class="action" onclick="addBook()">追加</button>
<button class="gray" onclick="show('menu')">戻る</button>
</section>

<section id="result">
<h2>結果一覧</h2>

<button class="action" onclick="sortAll()">並び替え</button>
<button class="action" onclick="copyAll()">全部コピー</button>
<button class="gray" onclick="show('menu')">戻る</button>

<div id="resultList" style="margin-top:16px;"></div>
</section>

<script>
let all = [];

function show(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function next(e,id){
  if(e.key==="Enter"){ e.preventDefault(); document.getElementById(id).focus(); }
}

function yearEnter(e,id){
  if(e.key==="Enter"){
    e.preventDefault();
    e.target.value = e.target.value.replace(/[０-９]/g,s=>String.fromCharCode(s.charCodeAt(0)-0xFEE0));
    document.getElementById(id).focus();
  }
}

function enterUrl(e){ if(e.key==="Enter") addUrl(); }
function enterBook(e){ if(e.key==="Enter") addBook(); }

function addUrl(){
  const d=new Date();
  const text=`${uAuthor.value||"不明"}(${uYear.value||"不明"}).「${uTitle.value||"不明"}」.<${uUrl.value||"不明"}> ${d.getFullYear()}年${d.getMonth()+1}月${d.getDate()}日閲覧.`;
  all.push({author:uAuthor.value||"",text});
  renderResults();
  uAuthor.value=uYear.value=uTitle.value=uUrl.value="";
  uAuthor.focus();
}

function addBook(){
  const text=`${bAuthor.value||"不明"}(${bYear.value||"不明"}).『${bTitle.value||"不明"}』.${bPublisher.value||"不明"}.`;
  all.push({author:bAuthor.value||"",text});
  renderResults();
  bAuthor.value=bYear.value=bTitle.value=bPublisher.value="";
  bAuthor.focus();
}

function renderResults(){
  resultList.innerHTML="";
  all.forEach((r,i)=>{
    resultList.innerHTML+=`
      <div class="result-item">
        <div class="result-text">${r.text}</div>
        <div class="result-actions">
          <button class="copy-btn" onclick="copyOne(${i})">コピー</button>
          <button class="delete-btn" onclick="deleteOne(${i})">削除</button>
        </div>
      </div>`;
  });
}

function copyOne(i){
  navigator.clipboard.writeText(all[i].text);
  alert("コピーしました");
}

function deleteOne(i){
  if(confirm("削除しますか？")){
    all.splice(i,1);
    renderResults();
  }
}

function sortAll(){
  all.sort((a,b)=>a.author.localeCompare(b.author,"ja"));
  renderResults();
}

function copyAll(){
  if(!all.length) return alert("空です");
  navigator.clipboard.writeText(all.map(x=>x.text).join("\n"));
  alert("すべてコピーしました");
}
</script>

</body>
</html>
