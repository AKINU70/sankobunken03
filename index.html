<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>å‚è€ƒæ–‡çŒ®ä½œæˆ/web/Ver0.2</title>
<meta name="description" content="æ•™è‚²ç›®çš„ã§åˆ©ç”¨ã§ãã‚‹å‚è€ƒæ–‡çŒ®ä½œæˆæ”¯æ´ãƒ„ãƒ¼ãƒ«ã€‚URLãƒ»æ›¸ç±ã®å‚è€ƒæ–‡çŒ®ã‚’ç°¡å˜ã«ç”Ÿæˆã—ã€ä¸¦ã³æ›¿ãˆã‚„ã‚³ãƒ”ãƒ¼ãŒå¯èƒ½ã€‚å€‹äººæƒ…å ±ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚">
<link rel="icon" href="Icooon.png" type="image/png">
<meta name="keywords" content="å‚è€ƒæ–‡çŒ®, æ•™è‚², å­¦ç¿’, å‚è€ƒæ–‡çŒ®ä½œæˆ, DP, MYP, IB">
<meta name="robots" content="index, follow">
<meta name="author" content="A">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "å‚è€ƒæ–‡çŒ®ä½œæˆ/web",
  "applicationCategory": "EducationalApplication",
  "operatingSystem": "All",
  "description": "å­¦ç¿’ãƒ»ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã®ãŸã‚ã®å‚è€ƒæ–‡çŒ®ä½œæˆæ”¯æ´Webãƒ„ãƒ¼ãƒ«",
  "inLanguage": "ja",
  "author": {
    "@type": "Person",
    "name": "A"
  },
  "datePublished": "2026-01-18"
}
</script>


<style>

nav button.active {
  background: #2f6fed;
  color: white;
}

/* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
#toast {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #2f6fed;
  color: white;
  padding: 10px 16px;
  border-radius: 20px;
  font-size: 13px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 9999;
}

/* è¡¨ç¤ºçŠ¶æ…‹ */
#toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(-6px);
}

/* ===== ãƒ•ãƒ­ãƒ¼ãƒˆè¡¨ç¤ºæœ€é©åŒ– ===== */
@media (max-width: 520px), (max-height: 600px) {

  body {
    display: flex;
    height: 100vh;
    overflow: hidden;
  }

  nav {
    width: 90px;
    min-width: 90px;
    background: #f0f3f8;
    display: flex;
    flex-direction: column;
    padding-top: 10px;
    box-shadow: 2px 0 10px rgba(0,0,0,0.1);
  }

  nav button {
    width: 100%;
    border-radius: 0;
    padding: 10px 6px;
    font-size: 11px;
    border-bottom: 1px solid #ddd;
    text-align: center;
  }

  section {
    flex: 1;
    margin: 8px;
    overflow-y: auto;
  }

  h1 {
    display: none; /* ãƒ•ãƒ­ãƒ¼ãƒˆæ™‚ã¯ã‚¿ã‚¤ãƒˆãƒ«éè¡¨ç¤ºï¼ˆå¥½ã¿ã§ï¼‰ */
  }
}

body {
  margin: 0;
  font-family: "Noto Sans JP", sans-serif;
  background: linear-gradient(135deg, #e8eef5, #f6f9fc);
}

h1 {
  background: #2f6fed;
  color: white;
  padding: 16px;
  margin: 0;
  text-align: center;
}

nav button {
  background: #f0f3f8;
  border: none;
  padding: 12px 18px;
  cursor: pointer;
}

section {
  display: none;
  background: white;
  margin: 20px auto;
  padding: 24px;
  max-width: 900px;
  border-radius: 16px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.12);
}

section.active { display: block; }

label { display: block; margin-top: 14px; font-weight: bold; }

input, textarea {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 10px;
  border: 1px solid #ccc;
}

button.action {
  background: #2f6fed;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 10px;
  margin-top: 10px;
  cursor: pointer;
}

button.gray {
  background: #9aa3ad;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 10px;
  margin-top: 10px;
}

/* ===== çµæœã‚«ãƒ¼ãƒ‰ ===== */
.result-item {
  background: #f6f9fc;
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 10px;

  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
}


.result-text {
  font-size: 13px;
  white-space: pre-wrap;
  word-break: break-all;
  flex: 1;
}

.result-actions {
  display: flex;
  flex-direction: column; /* ç¸¦ä¸¦ã³ */
  gap: 6px;
}

.copy-btn,
.delete-btn {
  font-size: 11px;
  padding: 4px 6px;
  border-radius: 6px;
  width: 56px;
  cursor: pointer;
}

/* ===== ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ ===== */
body.dark {
  background: #121212;
  color: #e0e0e0;
}

body.dark h1 {
  background: #1f1f1f;
}

body.dark nav button {
  background: #2a2a2a;
  color: #e0e0e0;
}

body.dark section {
  background: #1e1e1e;
  box-shadow: none;
}

body.dark input,
body.dark textarea {
  background: #2a2a2a;
  color: #e0e0e0;
  border: 1px solid #444;
}

body.dark .result-item {
  background: #2a2a2a;
}

body.dark .gray {
  background: #555;
}

body.dark .copy-btn {
  background: #3b6cff;
}

body.dark .delete-btn {
  background: #c44;
}

/* ===== ä¿å­˜ã‚¹ã‚¤ãƒƒãƒ ===== */
.save-switch {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  user-select: none;
}

/* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æœ¬ä½“ã¯éš ã™ */
.save-switch input {
  display: none;
}

/* ã‚¹ã‚¤ãƒƒãƒã®åœŸå° */
.slider {
  position: relative;
  width: 46px;
  height: 24px;
  background: #ccc;
  border-radius: 24px;
  transition: background 0.3s;
}

/* ä¸¸ã„ãƒ„ãƒãƒŸ */
.slider::before {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  background: white;
  border-radius: 50%;
  top: 3px;
  right: 3px;              /* â† OFFã¯å³ */
  transition: transform 0.3s, right 0.3s;
}

/* ===== ONã®ã¨ã ===== */
.save-switch input:checked + .slider {
  background: #2f6fed;
}

.save-switch input:checked + .slider::before {
  right: auto;
  left: 3px;               /* â† ONã¯å·¦ */
}

/* ãƒ©ãƒ™ãƒ«æ–‡å­— */
.label-text {
  font-size: 13px;
}

</style>
</head>

<body>

<h1>å‚è€ƒæ–‡çŒ®ä½œæˆ</h1>

<nav>
  <button onclick="show('menu', event)">ãƒˆãƒƒãƒ—</button>
  <button onclick="show('url')">URL</button>
  <button onclick="show('book')">æ›¸ç±</button>
  <button onclick="show('result')">çµæœ</button>
  <button onclick="toggleDark()">ğŸŒ™ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</button>
</nav>

<section id="menu" class="active">
<p>å‚è€ƒæ–‡çŒ®ã‚’ç°¡å˜ã«ä½œæˆãƒ»æ•´ç†ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</p>

<h3>æ›´æ–°å±¥æ­´ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰</h3>

1æœˆ18æ—¥ï¼šä½œæˆ ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.1<br>
æ›´æ–°ï¼š2026å¹´1æœˆ20æ—¥ ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.2<br>
æ›´æ–°ï¼ˆæœ€çµ‚ï¼‰ï¼š2026å¹´1æœˆ21æ—¥ ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.3<br>


<h3>ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</h3>
ä½œæˆæ—¥: 2026å¹´1æœˆ18æ—¥<br>
â€è‡ªå‹•ä¿å­˜ãƒ»ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ä½¿ç”¨å¯èƒ½â€<br> 
ä½œæˆè€…ï¼šA<br>
AIã«ã‚ˆã‚‹è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚<br> 
åˆ©ç”¨è¦ç´„ã¯ã€HTMLã¨åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚ã‚‹<p>
  <a href="åˆ©ç”¨è¦ç´„.html" target="_blank">åˆ©ç”¨è¦ç´„</a>
</p>
ã‚’ã”è¦§ãã ã•ã„ã€‚<br>
<h3>ä½¿ã„æ–¹</h3> 
<div style="text-align:center;">
  <img src="å‚è€ƒæ–‡çŒ®ä½œæˆèª¬æ˜.png" alt="èª¬æ˜æ–‡" width="600">
</div>
<div style="text-align:center;">
  <img src="å‚è€ƒæ–‡çŒ®ä½œæˆèª¬æ˜ (1).png" alt="èª¬æ˜æ–‡" width="600">
</div>
<div style="text-align:center;">
  <img src="å‚è€ƒæ–‡çŒ®ä½œæˆèª¬æ˜ (2).png" alt="èª¬æ˜æ–‡" width="600">
</div>
<footer>
  <p>Â© 2026 A</p>
  <p>å‚è€ƒæ–‡çŒ®ä½œæˆ</p>
</footer>

</section>

<section id="url">
<h2>å‚è€ƒæ–‡çŒ®ä½œæˆï¼ˆURLï¼‰</h2>

<label>ä½œè€…å</label>
<input id="uAuthor" onkeydown="next(event,'uYear')">

<label>å…¬é–‹å¹´</label>
<input id="uYear" onkeydown="yearEnter(event,'uTitle')">

<label>ã‚¿ã‚¤ãƒˆãƒ«</label>
<input id="uTitle" onkeydown="next(event,'uUrl')">

<label>URL</label>
<input id="uUrl" onkeydown="enterUrl(event)">

<button class="action" onclick="addUrl()">è¿½åŠ </button>
<button class="gray" onclick="show('menu', event)">æˆ»ã‚‹</button>
</section>

<section id="book">
<h2>å‚è€ƒæ–‡çŒ®ä½œæˆï¼ˆæ›¸ç±ï¼‰</h2>

<label>è‘—è€…å</label>
<input id="bAuthor" onkeydown="next(event,'bYear')">

<label>ç™ºè¡Œå¹´</label>
<input id="bYear" onkeydown="yearEnter(event,'bTitle')">

<label>ã‚¿ã‚¤ãƒˆãƒ«</label>
<input id="bTitle" onkeydown="next(event,'bPublisher')">

<label>å‡ºç‰ˆç¤¾</label>
<input id="bPublisher" onkeydown="enterBook(event)">

<button class="action" onclick="addBook()">è¿½åŠ </button>
<button class="gray" onclick="show('menu', event)">æˆ»ã‚‹</button>
</section>

<section id="result">
<h2>çµæœä¸€è¦§</h2>

<button class="action" onclick="sortAll()">ä¸¦ã³æ›¿ãˆ</button>
<button class="action" onclick="copyAll()">å…¨éƒ¨ã‚³ãƒ”ãƒ¼</button>
<button class="gray" onclick="show('menu', event)">æˆ»ã‚‹</button>
<label class="save-switch">
  <input type="checkbox" id="saveToggle">
  <span class="slider"></span>
  <span class="label-text">çµæœã‚’ä¿å­˜</span>
</label>

<button class="gray" onclick="clearAll()">å…¨éƒ¨å‰Šé™¤</button>

<div id="resultList" style="margin-top:16px;"></div>
</section>

<script>
let all = [];

function showToast(message = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ") {
  const toast = document.getElementById("toast");
  toast.textContent = message;
  toast.classList.add("show");

  setTimeout(() => {
    toast.classList.remove("show");
  }, 1500);
}

const STORAGE_KEY = "references_data";
const TOGGLE_KEY = "save_enabled";

// èµ·å‹•æ™‚å‡¦ç†
window.addEventListener("load", () => {
  const toggle = document.getElementById("saveToggle");

  // ä¿å­˜ã‚¹ã‚¤ãƒƒãƒçŠ¶æ…‹ã‚’å¾©å…ƒ
  const savedToggle = localStorage.getItem(TOGGLE_KEY);
  toggle.checked = savedToggle === "true";

  // ONã®ã¨ãã ã‘å¾©å…ƒ
  if (toggle.checked) {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) {
      all = JSON.parse(saved);
      renderResults();
    }
  } else {
    // OFFãªã‚‰ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
    localStorage.removeItem(STORAGE_KEY);
  }

  // ãƒˆã‚°ãƒ«å¤‰æ›´æ™‚
  toggle.addEventListener("change", () => {
    localStorage.setItem(TOGGLE_KEY, toggle.checked);

    if (!toggle.checked) {
      // OFFã«ã—ãŸç¬é–“ã€ä¿å­˜ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
      localStorage.removeItem(STORAGE_KEY);
    } else {
      saveIfEnabled();
    }
  });
});

// ä¿å­˜ï¼ˆONã®ã¨ãã ã‘ï¼‰
function saveIfEnabled() {
  const toggle = document.getElementById("saveToggle");
  document.getElementById("saveToggle").checked

  if (toggle.checked) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(all));
  }
}

function show(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function next(e,id){
  if(e.key==="Enter"){ e.preventDefault(); document.getElementById(id).focus(); }
}

function yearEnter(e,id){
  if(e.key==="Enter"){
    e.preventDefault();
    e.target.value = e.target.value.replace(/[ï¼-ï¼™]/g,s=>String.fromCharCode(s.charCodeAt(0)-0xFEE0));
    document.getElementById(id).focus();
  }
}

function enterUrl(e){ if(e.key==="Enter") addUrl(); }
function enterBook(e){ if(e.key==="Enter") addBook(); }

function addUrl(){
  const d=new Date();
  const text=`${uAuthor.value||"ä¸æ˜"}(${uYear.value||"ä¸æ˜"}).ã€Œ${uTitle.value||"ä¸æ˜"}ã€.<${uUrl.value||"ä¸æ˜"}> ${d.getFullYear()}å¹´${d.getMonth()+1}æœˆ${d.getDate()}æ—¥é–²è¦§.`;
  all.push({author:uAuthor.value||"",text});
  renderResults();
  uAuthor.value=uYear.value=uTitle.value=uUrl.value="";
  uAuthor.focus();
  saveIfEnabled();
}

function addBook(){
  const text=`${bAuthor.value||"ä¸æ˜"}(${bYear.value||"ä¸æ˜"}).ã€${bTitle.value||"ä¸æ˜"}ã€.${bPublisher.value||"ä¸æ˜"}.`;
  all.push({author:bAuthor.value||"",text});
  renderResults();
  bAuthor.value=bYear.value=bTitle.value=bPublisher.value="";
  bAuthor.focus();
  saveIfEnabled();
}

function renderResults(){
  resultList.innerHTML="";
  all.forEach((r,i)=>{
    resultList.innerHTML+=`
      <div class="result-item">
        <div class="result-text">${r.text}</div>
        <div class="result-actions">
          <button class="copy-btn" onclick="copyOne(${i})">ã‚³ãƒ”ãƒ¼</button>
          <button class="delete-btn" onclick="deleteOne(${i})">å‰Šé™¤</button>
        </div>
      </div>`;
  });
}

function copyOne(i){
  navigator.clipboard.writeText(all[i].text);
  showToast("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
}

function deleteOne(i){
  if(confirm("å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")){
    all.splice(i,1);
    renderResults();
    saveIfEnabled();
  }
}

function sortAll(){
  all.sort((a,b)=>a.author.localeCompare(b.author,"ja"));
  renderResults();
  saveIfEnabled();
}

function copyAll(){
  if(!all.length) {
    showToast("ã‚³ãƒ”ãƒ¼ã™ã‚‹å†…å®¹ãŒã‚ã‚Šã¾ã›ã‚“");
    return;
  }
  navigator.clipboard.writeText(all.map(x=>x.text).join("\n"));
  showToast("ã™ã¹ã¦ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
}

function toggleDark() {
  document.body.classList.toggle("dark");

  // çŠ¶æ…‹ä¿å­˜
  localStorage.setItem(
    "darkMode",
    document.body.classList.contains("dark") ? "on" : "off"
  );
}

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«å¾©å…ƒ
if (localStorage.getItem("darkMode") === "on") {
  document.body.classList.add("dark");
}

function clearAll() {
  if (!confirm("ã™ã¹ã¦ã®å‚è€ƒæ–‡çŒ®ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) return;

  all = [];
  renderResults();
  localStorage.removeItem(STORAGE_KEY);
}

function show(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");

  document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
}

</script>
<div id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</div>
</body>
</html>
